(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"./src/lib/mr-common/mr-resource.mdx":function(e,n,a){"use strict";a.r(n);var t=a("./node_modules/react/index.js"),o=a.n(t),r=a("./node_modules/@mdx-js/tag/dist/index.js");a("./node_modules/docz/dist/index.m.js"),a("./src/lib/mr-common/mr-resource.ts");function p(e,n){if(null==e)return{};var a,t,o=function(e,n){if(null==e)return{};var a,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(o[a]=e[a]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}n.default=function(e){var n=e.components;p(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:n},o.a.createElement(r.MDXTag,{name:"h1",components:n,props:{id:"mrresource"}},"MrResource"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u57fa\u4e8eMrRequest\u7684RESEful\u63a5\u53e3\u8bf7\u6c42\u534f\u8bae"),o.a.createElement(r.MDXTag,{name:"h2",components:n,props:{id:"basic-usage"}},"Basic usage"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript",metaString:""}},"    let pool = MrResource.pool(api: string);\n\n    /**\n     * \u4f7f\u7528get\u65b9\u6cd5\u5411\u670d\u52a1\u5668\u8bf7\u6c42api\u8d44\u6e90\n     * @params search: any: api \u8bf7\u6c42\u53c2\u6570\n     * @params extraSearch: any: \u989d\u5916\u8bf7\u6c42\u53c2\u6570\uff0c\u5408\u5e76\u81f3 search\n     * @params options: MrRequestOptions fetch \u8bf7\u6c42options\n     * @return Promise\n     */\n\n    // pool.get(search)\n    // pool.get(search, extraSearch, options) \u82e5\u8981\u4f7f\u7528options, \u8bf7\u8865\u5168\u6240\u6709\u53c2\u6570\n    pool.get(search: any, extraSearch?: any, options?: AxiosOptions): Promise;\n\n    /**\n     * \u4f7f\u7528post\u65b9\u6cd5\u5411\u670d\u52a1\u5668\u8bf7\u6c42api\u8d44\u6e90\n     * @params search: any: api \u8bf7\u6c42\u53c2\u6570\n     * @params payload: any: body request payload\n     * @params options: MrRequestOptions fetch \u8bf7\u6c42options\n     * @return Promise\n     */\n\n    // pool.post(payload) \u82e5\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u9ed8\u8ba4\u4e3apayload(data)\n    // pool.post(search, payload)\n    // \u82e5\u8981\u4f7f\u7528options, \u8bf7\u8865\u5168\u6240\u6709\u53c2\u6570\n    pool.post(search: any, payload: any, options?: AxiosOptions): Promise;\n\n    /**\n     * mrdown, \u5411\u670d\u52a1\u5668\u5668\u8bf7\u6c42\u4e8c\u8fdb\u5236\u8d44\u6e90\uff0c\u5e76\u6309\u7167 search.downloadName \u8bbe\u7f6e\u7684\u6587\u4ef6\u7c7b\u578b\u4e0b\u8f7d\u6587\u4ef6\n     * MRI \u9ed8\u8ba4\u4e0b\u8f7d\u914d\u7f6e\uff0c\u9ed8\u8ba4post\u8bf7\u6c42\uff0c\u5e76\u6dfb\u52a0\u76f8\u5e94\u914d\u7f6e\u53c2\u6570\uff0c\u82e5\u5176\u4ed6\u8bf7\u4f7f\u7528 download\n     * @params search: any: api \u8bf7\u6c42\u53c2\u6570\uff08\u5176\u4e2d downloadName \u4e3a\u5fc5\u586b\uff09\n     * @params payload: any: body request payload\n     * @params options: MrRequestOptions fetch \u8bf7\u6c42options\n     * @return Promise\n     */\n    pool.mrdown(search: any, payload: any, options?: AxiosOptions): Promise;\n")),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript",metaString:""}},"    // let $pool = MrResource.pool(api: string);\n    // api \u8def\u5f84\u63a5\u53d7\u52a8\u6001\u53c2\u6570\u914d\u7f6e, \u4f9d\u636eRESUful\u8bed\u4e49\u89e3\u91ca\n\n    let $pool = MrResource.pool('/users{/:id}/works{/:name}');\n\n    // \u53c2\u6570\u4e3a\u7a7a\n    // api = /users/works\n    // RESUful \u8868\u8ff0\u4e3a: \u6240\u6709\u7528\u6237\u7684\u6240\u6709\u5de5\u4f5c\n    $pool.get({});\n\n    // api = /users/1234/works\n    // RESUful \u8868\u8ff0\u4e3a: ID\u4e3a1234\u7684\u7528\u6237\u7684\u6240\u6709\u5de5\u4f5c\n    $pool.get({id: 1234});\n\n    // api = /users/1234/works/engineer\n    // RESUful \u8868\u8ff0\u4e3a: ID\u4e3a1234\u7684\u7528\u6237\u7684\u5de5\u7a0b\u5e08\u5de5\u4f5c\u4fe1\u606f\n    $pool.get({id: 1234, name: 'engineer'});\n")),o.a.createElement(r.MDXTag,{name:"h2",components:n,props:{id:"\u5360\u4f4d\u7b26--\u4f7f\u7528\u65b9\u6cd5"}},"\u5360\u4f4d\u7b26 {} \u4f7f\u7528\u65b9\u6cd5"),o.a.createElement(r.MDXTag,{name:"ol",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"\u5360\u4f4d\u7b26\u53ea\u652f\u6301\u5c5e\u6027\u5360\u4f4d\uff0c\u4e0d\u652f\u6301\u7d22\u5f15\u503c\u5360\u4f4d"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"':name:' \u4e24\u4e2a\u5192\u53f7\u95f4':'\u7684name\u4e3a\u5f53\u524d\u5339\u914d\u7684\u5c5e\u6027\u503c"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"':name' \u82e5name\u4e3a\u7ed3\u5c3e\uff0c\u5219\u53ef\u4ee5\u7701\u7565\u6700\u540e\u9762\u7684\u5192\u53f7':'"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ol"},"':' \u5192\u53f7\u4e3a\u533a\u5206\u5c5e\u6027\u503c\u548c\u5360\u4f4d\u503c\u7684\u6807\u8bc6\u7b26")),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript",metaString:""}},"// \u4e0b\u9762\u4f8b\u5b50\u4e3a api {} \u5360\u4f4d\u7b26\u7684\u7b49\u6548\u8868\u793a\n\n'{user/:name}' === `user/${name}`;\n\n'{user:name}' === `user${name}`;\n\n'{:name}' === `${name}`;\n\n'{:name:/}' === `${name}/`;\n\n// \u6ce8\u610f\u4e0b\u5217\u662f\u4e0d\u7b49\u4e8e\n// \u6240\u6709\u7684\u5c5e\u6027\u503c\u8868\u793a\u524d\u9762\u5fc5\u987b\u52a0\u5192\u53f7 ':'\n\n'{name}' !== `${name}`;\n\n'{name:/info}' !== `${name}/info`;\n")),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"\u53d6\u6d88\u8bf7\u6c42\uff08cancel"}},"\u53d6\u6d88\u8bf7\u6c42\uff08cancel)"),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"\u76ee\u524d\u4ec5\u652f\u6301\u53d6\u6d88\u4e00\u4e2a\u8bf7\u6c42\u4fe1\u606f")),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript",metaString:""}},"// \u53d6\u6d88 ajax \u8bf7\u6c42\u4f8b\u5b50\n\nconst cancel;\n\n$pool.nodata.get({}, {}, {\n    cancelToken: (c) => (cancel = c)\n}).then(() => {\n}).catch((error) => {\n    console.debug(error);\n});\n\n// \u53d6\u6d88\u8bf7\u6c42\n// cancel(message?: any): message \u975e\u5fc5\u987b\nlet rst = cancel('cancel ajax');\n\n// rst \u4e3a Cancel\u5bf9\u8c61\u65f6\uff0c\u53d6\u6d88\u8bf7\u6c42\u6210\u529f\n// rst \u4e3a undefined\u65f6\uff0cajax\u8bf7\u6c42\u5df2\u89e6\u53d1\u6210\u529f\n")),o.a.createElement(r.MDXTag,{name:"h2",components:n,props:{id:"properties"}},"Properties"),o.a.createElement(r.MDXTag,{name:"table",components:n},o.a.createElement(r.MDXTag,{name:"thead",components:n,parentName:"table"},o.a.createElement(r.MDXTag,{name:"tr",components:n,parentName:"thead"},o.a.createElement(r.MDXTag,{name:"th",components:n,parentName:"tr",props:{align:"left"}},"Property"),o.a.createElement(r.MDXTag,{name:"th",components:n,parentName:"tr",props:{align:"left"}},"type"),o.a.createElement(r.MDXTag,{name:"th",components:n,parentName:"tr",props:{align:"left"}},"Description"))),o.a.createElement(r.MDXTag,{name:"tbody",components:n,parentName:"table"},o.a.createElement(r.MDXTag,{name:"tr",components:n,parentName:"tbody"},o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"MrResource.pool(api: string)"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"mrpool"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"\u8fd4\u56de\u4e00\u4e2a\u57fa\u4e8e\u4e00\u4e2aMrResource\u7684\u4e00\u4e2a\u8fde\u63a5\u6c60")),o.a.createElement(r.MDXTag,{name:"tr",components:n,parentName:"tbody"},o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"mrpool.get(search?: object, params: object, options?: AxiosOptions)"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"Promise<any",">"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"\u53d1\u8d77\u4e00\u4e2aget\u8bf7\u6c42\uff0c\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61 - Content-Type ='application/json';")),o.a.createElement(r.MDXTag,{name:"tr",components:n,parentName:"tbody"},o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"mrpool.post(search?: object, payload: object, options?: AxiosOptions)"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"Promise<any",">"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"\u53d1\u8d77\u4e00\u4e2apost\u8bf7\u6c42\uff0c\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61 - Content-Type ='application/json';")),o.a.createElement(r.MDXTag,{name:"tr",components:n,parentName:"tbody"},o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"mrpool.upload(search?: object, payload: object, options?: AxiosOptions)"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"Promise<any",">"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"\u53d1\u8d77\u4e00\u4e2apost\u8bf7\u6c42\uff0c\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61, - Content-Type ='multipart/form-data';")),o.a.createElement(r.MDXTag,{name:"tr",components:n,parentName:"tbody"},o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"mrpool.download(search?: object, params: object, options?: AxiosOptions)"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"Promise<any",">"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"\u53d1\u8d77\u4e00\u4e2aget\u8bf7\u6c42\uff0c\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61, \u5e76\u81ea\u52a8\u4e0b\u8f7d - Content-Type ='application/json';")),o.a.createElement(r.MDXTag,{name:"tr",components:n,parentName:"tbody"},o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"mrpool.mrdown(search?: object, payload: object, options?: AxiosOptions)"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"Promise<any",">"),o.a.createElement(r.MDXTag,{name:"td",components:n,parentName:"tr",props:{align:"left"}},"\u57fa\u4e8emri\u534f\u8bae\uff0c\u53d1\u8d77\u4e00\u4e2apost\u8bf7\u6c42\uff0c\u8fd4\u56de\u4e00\u4e2aPromise\u5bf9\u8c61, \u5e76\u81ea\u52a8\u4e0b\u8f7d - Content-Type ='application/json';")))))}}}]);